var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var e={};(function(i){Date.prototype.getPickrDate=function(t){return t&&t.utc?this.getUTCDate():this.getDate()};Date.prototype.getPickrFullYear=function(t){return t&&t.utc?this.getUTCFullYear():this.getFullYear()};Date.prototype.getPickrMonth=function(t){return t&&t.utc?this.getUTCMonth():this.getMonth()};Date.prototype.getPickrDay=function(t){return t&&t.utc?this.getUTCDay():this.getDay()};var n=function(){var e=new Date;var i=[31,28,31,30,31,30,31,31,30,31,30,31];var n=[];var a={current:{year:function(t){return e.getPickrFullYear(t)},month:function(t){return e.getPickrMonth(t)},day:function(t){return e.getPickrDate(t)}},month:{string:function(t,e){var i=t;return monthToStr(i,e)},numDays:function(t,e){return 1!==t||3&e||!(e%100)&&e%400?i[t]:29}}};function calendarClick(e){var i=new Date((this||t).year,(this||t).month).getTime();switch(e.target.getAttribute("data-target")){case"month-prev":if((this||t).config.minDate&&i<=(this||t).config.minDate)return;(this||t).month--;if((this||t).month<0){(this||t).year--;(this||t).month=11}rebuildCalendar.call(this||t);break;case"month-next":if((this||t).config.maxDate&&i>=(this||t).config.maxDate)return;(this||t).month++;if((this||t).month>11){(this||t).year++;(this||t).month=0}rebuildCalendar.call(this||t);break;case"day":var n=new Date((this||t).year,(this||t).month,e.target.textContent).getTime();var a=e.target.classList;if((this||t).config.halfDay)if(a.contains("halfday")){a.remove("halfday");(this||t).config.activeDays=(this||t).config.activeDays.map((function(t){t[0]===n&&(t[1]=1);return t}))}else if(a.contains("active")){a.remove("active","halfday");(this||t).config.activeDays=(this||t).config.activeDays.filter((function(t){return t[0]!==n}))}else{a.add("active","halfday");(this||t).config.activeDays.push([n,.5])}else if(a.contains("active")){a.remove("active","halfday");(this||t).config.activeDays=(this||t).config.activeDays.filter((function(t){return t[0]!==n}))}else{if((this||t).config.singleSelection){var s=(this||t).element.querySelectorAll("a");for(var r=0;r<s.length;r++)s[r].classList.remove("active","halfday");(this||t).config.activeDays=[[n,1]]}else(this||t).config.activeDays.push([n,1]);a.add("active")}(this||t).config.activeDays.sort((function(t,e){return t[0]-e[0]}));this.callback((this||t).config.activeDays);break}}function buildNode(t,e,i){t in n||(n[t]=document.createElement(t));var a=n[t].cloneNode(false);if(e)for(var s in e)a.setAttribute(s,e[s]);i&&("object"===typeof i?a.appendChild(i):a.textContent=i);return a}function monthToStr(t,e){return e[t]}function roundDate(e){return new Date(e.getPickrFullYear((this||t).config),e.getPickrMonth((this||t).config),e.getPickrDate((this||t).config))}function isToday(e,i,n){return n===a.current.day((this||t).config)&&i===a.current.month((this||t).config)&&e===a.current.year((this||t).config)}function isPast(t,e,i){return new Date(t,e,i).getTime()<(new Date).getTime()}function isFuture(t,e,i){return new Date(t,e,i).getTime()>(new Date).getTime()}function isWeekend(e,i,n){var a=new Date(e,i,n).getPickrDay((this||t).config);return 0===a||6===a}function isOmitted(e,i,n){var a=new Date(e,i,n).getTime(),s;(this||t).config.omitDays.length&&(this||t).config.omitDays.forEach((function(t){t===a&&(s=true)}));return s}function buildWeekdays(t){var e=document.createDocumentFragment();t.forEach((function(t){e.appendChild(buildNode("th",{},t))}));return e}function rebuildCalendar(){while((this||t).calendarBody.hasChildNodes())(this||t).calendarBody.removeChild((this||t).calendarBody.lastChild);var e=new Date((this||t).year,(this||t).month,1).getPickrDay((this||t).config),i=a.month.numDays((this||t).month,(this||t).year);(this||t).currentMonth.textContent=a.month.string((this||t).month,(this||t).config.months)+" "+(this||t).year;(this||t).calendarBody.appendChild(buildDays.call(this||t,e,i,(this||t).month,(this||t).year))}function buildCurrentMonth(t,e,i,n){return buildNode("strong",{class:"small"},a.month.string(e,n)+" "+i)}function buildMonths(){var t=buildNode("div",{class:"months"});var e=buildNode("a",{class:"icon next button short quiet","data-target":"month-next",href:"#"});var i=buildNode("a",{class:"icon prev button short quiet","data-target":"month-prev",href:"#"});t.appendChild(e);t.appendChild(i);return t}function buildDays(e,i,n,a){var s=document.createDocumentFragment(),r=buildNode("tr"),o=0,h,c,l;for(l=1;l<=e;l++){r.appendChild(buildNode("td"));o++}for(l=1;l<=i;l++){c=false;if(7===o){s.appendChild(r);r=buildNode("tr");o=0}if(isToday.call(this||t,a,n,l))if((this||t).config.omitWeekends&&isWeekend.call(this||t,a,n,l)||(this||t).config.omitDays&&(this||t).config.omitDays.length&&isOmitted.call(this||t,a,n,l)){h="today quiet";c=true}else h="today";else if((this||t).config.omitPast&&isPast(a,n,l)||(this||t).config.omitFuture&&isFuture(a,n,l)||(this||t).config.omitWeekends&&isWeekend.call(this||t,a,n,l)||(this||t).config.omitDays&&(this||t).config.omitDays.length&&isOmitted.call(this||t,a,n,l)){h="fill-light quiet";c=true}else h="fill-light";var u=this||t;(this||t).config.activeDays.length&&(this||t).config.activeDays.forEach((function(t){roundDate.call(u,new Date(t[0])).getTime()===new Date(a,n,l).getTime()&&(h+=1===t[1]?" active":" halfday active")}));r.appendChild(buildNode("td",{},buildNode("a",{class:h,"data-target":!c&&"day",href:"#"},l)));o++}for(l=1;l<=7-o;l++)r.appendChild(buildNode("td"));s.appendChild(r);return s}function buildCalendar(){var e=new Date((this||t).config.startYear,(this||t).config.startMonth,1).getPickrDay((this||t).config);var i=a.month.numDays((this||t).month,(this||t).year);var n=buildNode("div",{class:"date-pickr"});(this||t).currentMonth=buildCurrentMonth((this||t).config,(this||t).month,(this||t).year,(this||t).config.months);var s=buildMonths((this||t).config,(this||t).month,(this||t).year);s.appendChild((this||t).currentMonth);var r=buildNode("table",{class:"small"},buildNode("thead",{},buildNode("tr",{class:"weekdays"},buildWeekdays((this||t).config.weekdays))));(this||t).calendarBody=buildNode("tbody");(this||t).calendarBody.appendChild(buildDays.call(this||t,e,i,(this||t).month,(this||t).year));r.appendChild((this||t).calendarBody);n.appendChild(s);n.appendChild(r);(this||t).element.appendChild(n);n.addEventListener("click",function(e){e.preventDefault();calendarClick.call(this||t,e)}.bind(this||t));return n}return function(e,i,n){var s={};(this||t).element=e;(this||t).callback=i;(this||t).config={utc:false,weekdays:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],minDate:null,maxDate:null,halfDay:false,omitPast:false,omitFuture:false,omitWeekends:false,omitDays:[],activeDays:[],singleSelection:false};(this||t).config.startYear=a.current.year((this||t).config);(this||t).config.startMonth=a.current.month((this||t).config);if(n)for(var r in n)(this||t).config.hasOwnProperty(r)&&((this||t).config[r]=n[r]);var o=this||t;(this||t).config.activeDays.length&&((this||t).config.activeDays=(this||t).config.activeDays.map((function(t){return[roundDate.call(o,new Date(t[0])).getTime(),t[1]]})));(this||t).config.omitDays.length&&((this||t).config.omitDays=(this||t).config.omitDays.map((function(t){return roundDate.call(o,new Date(t)).getTime()})));s.options=function(e){if(e)for(var i in e)(this||t).config.hasOwnProperty(i)&&((this||t).config[i]=e[i])}.bind(this||t);(this||t).year=(this||t).config.startYear;(this||t).month=(this||t).config.startMonth;buildCalendar.call(this||t);return s}}();i.Datepickr=n;e&&(e=n)})(e);var i=e;export default i;

